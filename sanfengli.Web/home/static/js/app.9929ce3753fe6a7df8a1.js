webpackJsonp([1],{109:function(t,e){},110:function(t,e){},111:function(t,e){},112:function(t,e){},113:function(t,e){},114:function(t,e){},115:function(t,e){},118:function(t,e,a){function s(t){a(112)}var i=a(15)(a(56),a(122),s,null,null);t.exports=i.exports},119:function(t,e,a){function s(t){a(115)}var i=a(15)(a(57),a(126),s,null,null);t.exports=i.exports},120:function(t,e,a){function s(t){a(113)}var i=a(15)(a(59),a(124),s,null,null);t.exports=i.exports},121:function(t,e,a){var s=a(15)(a(60),a(123),null,null,null);t.exports=s.exports},122:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{directives:[{name:"show",rawName:"v-show",value:t.value,expression:"value"}],staticClass:"vue-image-crop-upload"},[a("div",{staticClass:"vicp-wrap"},[a("div",{staticClass:"vicp-close",on:{click:t.off}},[a("i",{staticClass:"vicp-icon4"})]),t._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:1==t.step,expression:"step == 1"}],staticClass:"vicp-step1"},[a("div",{staticClass:"vicp-drop-area",on:{dragleave:t.preventDefault,dragover:t.preventDefault,dragenter:t.preventDefault,click:t.handleClick,drop:t.handleChange}},[a("i",{directives:[{name:"show",rawName:"v-show",value:1!=t.loading,expression:"loading != 1"}],staticClass:"vicp-icon1"},[a("i",{staticClass:"vicp-icon1-arrow"}),t._v(" "),a("i",{staticClass:"vicp-icon1-body"}),t._v(" "),a("i",{staticClass:"vicp-icon1-bottom"})]),t._v(" "),a("span",{directives:[{name:"show",rawName:"v-show",value:1!==t.loading,expression:"loading !== 1"}],staticClass:"vicp-hint"},[t._v(t._s(t.lang.hint))]),t._v(" "),a("span",{directives:[{name:"show",rawName:"v-show",value:!t.isSupported,expression:"!isSupported"}],staticClass:"vicp-no-supported-hint"},[t._v(t._s(t.lang.noSupported))]),t._v(" "),1==t.step?a("input",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}],ref:"fileinput",attrs:{type:"file"},on:{change:t.handleChange}}):t._e()]),t._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:t.hasError,expression:"hasError"}],staticClass:"vicp-error"},[a("i",{staticClass:"vicp-icon2"}),t._v(" "+t._s(t.errorMsg)+"\r\n            ")]),t._v(" "),a("div",{staticClass:"vicp-operate"},[a("a",{on:{click:t.off,mousedown:t.ripple}},[t._v(t._s(t.lang.btn.off))])])]),t._v(" "),2==t.step?a("div",{staticClass:"vicp-step2"},[a("div",{staticClass:"vicp-crop"},[a("div",{directives:[{name:"show",rawName:"v-show",value:!0,expression:"true"}],staticClass:"vicp-crop-left"},[a("div",{staticClass:"vicp-img-container"},[a("img",{ref:"img",staticClass:"vicp-img",style:t.sourceImgStyle,attrs:{src:t.sourceImgUrl,draggable:"false"},on:{drag:t.preventDefault,dragstart:t.preventDefault,dragend:t.preventDefault,dragleave:t.preventDefault,dragover:t.preventDefault,dragenter:t.preventDefault,drop:t.preventDefault,touchstart:t.imgStartMove,touchmove:t.imgMove,touchend:t.createImg,touchcancel:t.createImg,mousedown:t.imgStartMove,mousemove:t.imgMove,mouseup:t.createImg,mouseout:t.createImg}}),t._v(" "),a("div",{staticClass:"vicp-img-shade vicp-img-shade-1",style:t.sourceImgShadeStyle}),t._v(" "),a("div",{staticClass:"vicp-img-shade vicp-img-shade-2",style:t.sourceImgShadeStyle})]),t._v(" "),a("div",{staticClass:"vicp-range"},[a("input",{attrs:{type:"range",step:"1",min:"0",max:"100"},domProps:{value:t.scale.range},on:{input:t.zoomChange}}),t._v(" "),a("i",{staticClass:"vicp-icon5",on:{mousedown:t.startZoomSub,mouseout:t.endZoomSub,mouseup:t.endZoomSub}}),t._v(" "),a("i",{staticClass:"vicp-icon6",on:{mousedown:t.startZoomAdd,mouseout:t.endZoomAdd,mouseup:t.endZoomAdd}})])]),t._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:!0,expression:"true"}],staticClass:"vicp-crop-right"},[a("div",{staticClass:"vicp-preview"},[a("div",{staticClass:"vicp-preview-item"},[a("img",{style:t.previewStyle,attrs:{src:t.createImgUrl}}),t._v(" "),a("span",[t._v(t._s(t.lang.preview))])]),t._v(" "),t.noCircle?t._e():a("div",{staticClass:"vicp-preview-item"},[a("img",{style:t.previewStyle,attrs:{src:t.createImgUrl}}),t._v(" "),a("span",[t._v(t._s(t.lang.preview))])])])])]),t._v(" "),a("div",{staticClass:"vicp-operate"},[a("a",{on:{click:function(e){t.setStep(1)},mousedown:t.ripple}},[t._v(t._s(t.lang.btn.back))]),t._v(" "),a("a",{staticClass:"vicp-operate-btn",on:{click:t.upload,mousedown:t.ripple}},[t._v(t._s(t.lang.btn.save))])])]):t._e(),t._v(" "),3==t.step?a("div",{staticClass:"vicp-step3"},[a("div",{staticClass:"vicp-upload"},[a("span",{directives:[{name:"show",rawName:"v-show",value:1===t.loading,expression:"loading === 1"}],staticClass:"vicp-loading"},[t._v(t._s(t.lang.loading))]),t._v(" "),a("div",{staticClass:"vicp-progress-wrap"},[a("span",{directives:[{name:"show",rawName:"v-show",value:1===t.loading,expression:"loading === 1"}],staticClass:"vicp-progress",style:t.progressStyle})]),t._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:t.hasError,expression:"hasError"}],staticClass:"vicp-error"},[a("i",{staticClass:"vicp-icon2"}),t._v(" "+t._s(t.errorMsg)+"\r\n                ")]),t._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:2===t.loading,expression:"loading === 2"}],staticClass:"vicp-success"},[a("i",{staticClass:"vicp-icon3"}),t._v(" "+t._s(t.lang.success)+"\r\n                ")])]),t._v(" "),a("div",{staticClass:"vicp-operate"},[a("a",{on:{click:function(e){t.setStep(2)},mousedown:t.ripple}},[t._v(t._s(t.lang.btn.back))]),t._v(" "),a("a",{on:{click:t.off,mousedown:t.ripple}},[t._v(t._s(t.lang.btn.close))])])]):t._e(),t._v(" "),a("canvas",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}],ref:"canvas",attrs:{width:t.width,height:t.height}})])])},staticRenderFns:[]}},123:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("quill-editor",{ref:"myTextEditor",attrs:{options:t.editorOption},on:{change:t.onChange},model:{value:t.content,callback:function(e){t.content=e},expression:"content"}},[a("div",{attrs:{slot:"toolbar",id:"toolbar"},slot:"toolbar"},[a("span",{staticClass:"ql-formats"},[a("button",{staticClass:"ql-bold",attrs:{type:"button"}})]),t._v(" "),a("span",{staticClass:"ql-formats"},[a("button",{staticClass:"ql-italic",attrs:{type:"button"}})]),t._v(" "),a("span",{staticClass:"ql-formats"},[a("button",{staticClass:"ql-underline",attrs:{type:"button"}})]),t._v(" "),a("span",{staticClass:"ql-formats"},[a("button",{staticClass:"ql-strike",attrs:{type:"button"}})]),t._v(" "),a("span",{staticClass:"ql-formats"},[a("button",{staticClass:"ql-blockquote",attrs:{type:"button"}})]),t._v(" "),a("span",{staticClass:"ql-formats"},[a("button",{staticClass:"ql-code-block",attrs:{type:"button"}})]),t._v(" "),a("span",{staticClass:"ql-formats"},[a("button",{staticClass:"ql-header",attrs:{type:"button",value:"1"}})]),t._v(" "),a("span",{staticClass:"ql-formats"},[a("button",{staticClass:"ql-header",attrs:{type:"button",value:"2"}})]),t._v(" "),a("span",{staticClass:"ql-formats"},[a("button",{staticClass:"ql-list",attrs:{type:"button",value:"ordered"}})]),t._v(" "),a("span",{staticClass:"ql-formats"},[a("button",{staticClass:"ql-list",attrs:{type:"button",value:"bullet"}})]),t._v(" "),a("span",{staticClass:"ql-formats"},[a("button",{staticClass:"ql-script",attrs:{type:"button",value:"sub"}})]),t._v(" "),a("span",{staticClass:"ql-formats"},[a("button",{staticClass:"ql-script",attrs:{type:"button",value:"super"}})]),t._v(" "),a("span",{staticClass:"ql-formats"},[a("button",{staticClass:"ql-indent",attrs:{type:"button",value:"-1"}})]),t._v(" "),a("span",{staticClass:"ql-formats"},[a("button",{staticClass:"ql-indent",attrs:{type:"button",value:"+1"}})]),t._v(" "),a("span",{staticClass:"ql-formats"},[a("button",{staticClass:"ql-direction",attrs:{type:"button",value:"rtl"}})]),t._v(" "),a("span",{staticClass:"ql-formats"},[a("select",{staticClass:"ql-size"},[a("option",{attrs:{value:"small"}}),t._v(" "),a("option",{attrs:{selected:""}}),t._v(" "),a("option",{attrs:{value:"large"}}),t._v(" "),a("option",{attrs:{value:"huge"}})])]),t._v(" "),a("span",{staticClass:"ql-formats"},[a("select",{staticClass:"ql-header"},[a("option",{attrs:{value:"1"}}),t._v(" "),a("option",{attrs:{value:"2"}}),t._v(" "),a("option",{attrs:{value:"3"}}),t._v(" "),a("option",{attrs:{value:"4"}}),t._v(" "),a("option",{attrs:{value:"5"}}),t._v(" "),a("option",{attrs:{value:"6"}}),t._v(" "),a("option",{attrs:{selected:"selected"}})])]),t._v(" "),a("span",{staticClass:"ql-formats"},[a("select",{staticClass:"ql-color"},[a("option",{attrs:{selected:"selected"}}),t._v(" "),a("option",{attrs:{value:"#e60000"}}),t._v(" "),a("option",{attrs:{value:"#ff9900"}}),t._v(" "),a("option",{attrs:{value:"#ffff00"}}),t._v(" "),a("option",{attrs:{value:"#008a00"}}),t._v(" "),a("option",{attrs:{value:"#0066cc"}}),t._v(" "),a("option",{attrs:{value:"#9933ff"}}),t._v(" "),a("option",{attrs:{value:"#ffffff"}}),t._v(" "),a("option",{attrs:{value:"#facccc"}}),t._v(" "),a("option",{attrs:{value:"#ffebcc"}}),t._v(" "),a("option",{attrs:{value:"#ffffcc"}}),t._v(" "),a("option",{attrs:{value:"#cce8cc"}}),t._v(" "),a("option",{attrs:{value:"#cce0f5"}}),t._v(" "),a("option",{attrs:{value:"#ebd6ff"}}),t._v(" "),a("option",{attrs:{value:"#bbbbbb"}}),t._v(" "),a("option",{attrs:{value:"#f06666"}}),t._v(" "),a("option",{attrs:{value:"#ffc266"}}),t._v(" "),a("option",{attrs:{value:"#ffff66"}}),t._v(" "),a("option",{attrs:{value:"#66b966"}}),t._v(" "),a("option",{attrs:{value:"#66a3e0"}}),t._v(" "),a("option",{attrs:{value:"#c285ff"}}),t._v(" "),a("option",{attrs:{value:"#888888"}}),t._v(" "),a("option",{attrs:{value:"#a10000"}}),t._v(" "),a("option",{attrs:{value:"#b26b00"}}),t._v(" "),a("option",{attrs:{value:"#b2b200"}}),t._v(" "),a("option",{attrs:{value:"#006100"}}),t._v(" "),a("option",{attrs:{value:"#0047b2"}}),t._v(" "),a("option",{attrs:{value:"#6b24b2"}}),t._v(" "),a("option",{attrs:{value:"#444444"}}),t._v(" "),a("option",{attrs:{value:"#5c0000"}}),t._v(" "),a("option",{attrs:{value:"#663d00"}}),t._v(" "),a("option",{attrs:{value:"#666600"}}),t._v(" "),a("option",{attrs:{value:"#003700"}}),t._v(" "),a("option",{attrs:{value:"#002966"}}),t._v(" "),a("option",{attrs:{value:"#3d1466"}})])]),t._v(" "),a("span",{staticClass:"ql-formats"},[a("select",{staticClass:"ql-background"},[a("option",{attrs:{value:"#000000"}}),t._v(" "),a("option",{attrs:{value:"#e60000"}}),t._v(" "),a("option",{attrs:{value:"#ff9900"}}),t._v(" "),a("option",{attrs:{value:"#ffff00"}}),t._v(" "),a("option",{attrs:{value:"#008a00"}}),t._v(" "),a("option",{attrs:{value:"#0066cc"}}),t._v(" "),a("option",{attrs:{value:"#9933ff"}}),t._v(" "),a("option",{attrs:{selected:"selected"}}),t._v(" "),a("option",{attrs:{value:"#facccc"}}),t._v(" "),a("option",{attrs:{value:"#ffebcc"}}),t._v(" "),a("option",{attrs:{value:"#ffffcc"}}),t._v(" "),a("option",{attrs:{value:"#cce8cc"}}),t._v(" "),a("option",{attrs:{value:"#cce0f5"}}),t._v(" "),a("option",{attrs:{value:"#ebd6ff"}}),t._v(" "),a("option",{attrs:{value:"#bbbbbb"}}),t._v(" "),a("option",{attrs:{value:"#f06666"}}),t._v(" "),a("option",{attrs:{value:"#ffc266"}}),t._v(" "),a("option",{attrs:{value:"#ffff66"}}),t._v(" "),a("option",{attrs:{value:"#66b966"}}),t._v(" "),a("option",{attrs:{value:"#66a3e0"}}),t._v(" "),a("option",{attrs:{value:"#c285ff"}}),t._v(" "),a("option",{attrs:{value:"#888888"}}),t._v(" "),a("option",{attrs:{value:"#a10000"}}),t._v(" "),a("option",{attrs:{value:"#b26b00"}}),t._v(" "),a("option",{attrs:{value:"#b2b200"}}),t._v(" "),a("option",{attrs:{value:"#006100"}}),t._v(" "),a("option",{attrs:{value:"#0047b2"}}),t._v(" "),a("option",{attrs:{value:"#6b24b2"}}),t._v(" "),a("option",{attrs:{value:"#444444"}}),t._v(" "),a("option",{attrs:{value:"#5c0000"}}),t._v(" "),a("option",{attrs:{value:"#663d00"}}),t._v(" "),a("option",{attrs:{value:"#666600"}}),t._v(" "),a("option",{attrs:{value:"#003700"}}),t._v(" "),a("option",{attrs:{value:"#002966"}}),t._v(" "),a("option",{attrs:{value:"#3d1466"}})])]),t._v(" "),a("span",{staticClass:"ql-formats"},[a("select",{staticClass:"ql-font"},[a("option",{attrs:{selected:"selected"}}),t._v(" "),a("option",{attrs:{value:"serif"}}),t._v(" "),a("option",{attrs:{value:"monospace"}})])]),t._v(" "),a("span",{staticClass:"ql-formats"},[a("select",{staticClass:"ql-align"},[a("option",{attrs:{selected:"selected"}}),t._v(" "),a("option",{attrs:{value:"center"}}),t._v(" "),a("option",{attrs:{value:"right"}}),t._v(" "),a("option",{attrs:{value:"justify"}})])]),t._v(" "),a("span",{staticClass:"ql-formats"},[a("button",{staticClass:"ql-clean",attrs:{type:"button"}})]),t._v(" "),a("span",{staticClass:"ql-formats"},[a("button",{staticClass:"ql-link",attrs:{type:"button"}})]),t._v(" "),a("span",{staticClass:"ql-formats"},[a("button",{attrs:{type:"button"},on:{click:t.imgClick}},[a("svg",{attrs:{viewBox:"0 0 18 18"}},[a("rect",{staticClass:"ql-stroke",attrs:{height:"10",width:"12",x:"3",y:"4"}}),t._v(" "),a("circle",{staticClass:"ql-fill",attrs:{cx:"6",cy:"7",r:"1"}}),t._v(" "),a("polyline",{staticClass:"ql-even ql-fill",attrs:{points:"5 12 5 11 7 9 8 10 11 7 13 9 13 12 5 12"}})])])]),t._v(" "),a("span",{staticClass:"ql-formats"},[a("button",{staticClass:"ql-video",attrs:{type:"button"}})])])]),t._v(" "),a("crop-upload",{attrs:{width:t.width,height:t.height,fileName:t.fileName,uploadUrl:t.uploadUrl},on:{uploadSuccess:t.onUploadSuccess},model:{value:t.showCrop,callback:function(e){t.showCrop=e},expression:"showCrop"}})],1)},staticRenderFns:[]}},124:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement;return(t._self._c||e)("vue-crop",{attrs:{width:t.width,height:t.height,url:t.uploadUrl,field:t.fileName,"img-format":"png"},on:{"crop-upload-success":t.uploadSuccess},model:{value:t.show,callback:function(e){t.show=e},expression:"show"}})},staticRenderFns:[]}},125:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"app"}},[a("input",{attrs:{type:"button",value:"切换裁切"},on:{click:function(e){t.canCrop=!t.canCrop}}}),t._v(" "),a("editor",{ref:"myTextEditor",attrs:{fileName:t.fileImage,canCrop:t.canCrop,uploadUrl:t.uploadUrl},model:{value:t.content,callback:function(e){t.content=e},expression:"content"}}),t._v(" "),a("div",{domProps:{innerHTML:t._s(t.content)}})],1)},staticRenderFns:[]}},126:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"quill-editor"},[t._t("toolbar"),t._v(" "),a("div",{ref:"editor"})],2)},staticRenderFns:[]}},54:function(t,e,a){function s(t){a(114)}var i=a(15)(a(58),a(125),s,null,null);t.exports=i.exports},56:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=a(64),i=a.n(s),o=a(63),n=a.n(o),r=a(67),l=a.n(r),c=a(62),u=a.n(c),p={jpg:"image/jpeg",png:"image/png",gif:"image/gif",svg:"image/svg+xml",psd:"image/photoshop"},v=function(t,e){var a=u()({ele:t.target,type:"hit",bgc:"rgba(0, 0, 0, 0.15)"},e),s=a.ele;if(s){var i=s.getBoundingClientRect(),o=s.querySelector(".e-ripple");switch(o?o.className="e-ripple":(o=document.createElement("span"),o.className="e-ripple",o.style.height=o.style.width=Math.max(i.width,i.height)+"px",s.appendChild(o)),a.type){case"center":o.style.top=i.height/2-o.offsetHeight/2+"px",o.style.left=i.width/2-o.offsetWidth/2+"px";break;default:o.style.top=t.pageY-i.top-o.offsetHeight/2-document.body.scrollTop+"px",o.style.left=t.pageX-i.left-o.offsetWidth/2-document.body.scrollLeft+"px"}return o.style.backgroundColor=a.bgc,o.className="e-ripple z-active",!1}},d=function(t,e){t=t.split(",")[1],t=window.atob(t);for(var a=new Uint8Array(t.length),s=0;s<t.length;s++)a[s]=t.charCodeAt(s);return new Blob([a],{type:e})};e.default={props:{field:{type:String,default:"avatar"},ki:{default:0},value:{default:!0},url:{type:String,default:""},params:{type:Object,default:null},headers:{type:Object,default:null},width:{type:Number,default:200},height:{type:Number,default:200},noCircle:{type:Boolean,default:!1},maxSize:{type:Number,default:10240},langType:{type:String,default:"zh"},langExt:{type:Object,default:null},imgFormat:{type:String,default:"png"}},data:function(){var t=this,e=t.imgFormat,a=t.langType,s=t.langExt,i=t.width,o=t.height,n=!0,r=["jpg","png"],l={zh:{hint:"点击，或拖动图片至此处",loading:"正在上传……",noSupported:"浏览器不支持该功能，请使用IE10以上或其他现在浏览器！",success:"上传成功",fail:"图片上传失败",preview:"头像预览",btn:{off:"取消",close:"关闭",back:"上一步",save:"保存"},error:{onlyImg:"仅限图片格式",outOfSize:"单文件大小不能超过 ",lowestPx:"图片最低像素为（宽*高）："}},en:{hint:"Click or drag the file here to upload",loading:"Uploading…",noSupported:"Browser is not supported, please use IE10+ or other browsers",success:"Upload success",fail:"Upload failed",preview:"Preview",btn:{off:"Cancel",close:"Close",back:"Back",save:"Save"},error:{onlyImg:"Image only",outOfSize:"Image exceeds size limit: ",lowestPx:"Image's size is too low. Expected at least: "}},ro:{hint:"Atinge sau trage fișierul aici",loading:"Se încarcă",noSupported:"Browser-ul tău nu suportă acest feature. Te rugăm încearcă cu alt browser.",success:"S-a încărcat cu succes",fail:"A apărut o problemă la încărcare",preview:"Previzualizează",btn:{off:"Anulează",close:"Închide",back:"Înapoi",save:"Salvează"},error:{onlyImg:"Doar imagini",outOfSize:"Imaginea depășește limita de: ",loewstPx:"Imaginea este prea mică; Minim: "}},ru:{hint:"Нажмите, или перетащите файл в это окно",loading:"Загружаю……",noSupported:"Ваш браузер не поддерживается, пожалуйста, используйте IE10 + или другие браузеры",success:"Загрузка выполнена успешно",fail:"Ошибка загрузки",preview:"Предпросмотр",btn:{off:"Отменить",close:"Закрыть",back:"Назад",save:"Сохранить"},error:{onlyImg:"Только изображения",outOfSize:"Изображение превышает предельный размер: ",lowestPx:"Минимальный размер изображения: "}}},c=-1===r.indexOf(e)?"jpg":e,v=l[a]?l[a]:v.zh,d=p[c];return t.imgFormat=c,s&&u()(v,s),"function"!=typeof FormData&&(n=!1),{mime:d,lang:v,isSupported:n,isSupportTouch:document.hasOwnProperty("ontouchstart"),step:1,loading:0,progress:0,hasError:!1,errorMsg:"",ratio:i/o,sourceImg:null,sourceImgUrl:"",createImgUrl:"",sourceImgMouseDown:{on:!1,mX:0,mY:0,x:0,y:0},previewContainer:{width:100,height:100},sourceImgContainer:{width:240,height:180},scale:{zoomAddOn:!1,zoomSubOn:!1,range:1,x:0,y:0,width:0,height:0,maxWidth:0,maxHeight:0,minWidth:0,minHeight:0,naturalWidth:0,naturalHeight:0}}},computed:{progressStyle:function(){return{width:this.progress+"%"}},sourceImgStyle:function(){var t=this.scale,e=this.sourceImgMasking;return{top:t.y+e.y+"px",left:t.x+e.x+"px",width:t.width+"px",height:t.height+"px"}},sourceImgMasking:function(){var t=this.width,e=this.height,a=this.ratio,s=this.sourceImgContainer,i=s,o=i.width/i.height,n=0,r=0,l=i.width,c=i.height,u=1;return a<o&&(u=i.height/e,l=i.height*a,n=(i.width-l)/2),a>o&&(u=i.width/t,c=i.width/a,r=(i.height-c)/2),{scale:u,x:n,y:r,width:l,height:c}},sourceImgShadeStyle:function(){var t=this.sourceImgMasking,e=this.sourceImgContainer,a=e,s=t;return{width:(s.width==a.width?s.width:(a.width-s.width)/2)+"px",height:(s.height==a.height?s.height:(a.height-s.height)/2)+"px"}},previewStyle:function(){var t=(this.width,this.height,this.ratio),e=this.previewContainer,a=e,s=a.width,i=a.height,o=s/i;return t<o&&(s=a.height*t),t>o&&(i=a.width/t),{width:s+"px",height:i+"px"}}},watch:{value:function(t){t&&1!=this.loading&&this.reset()}},methods:{ripple:function(t){v(t)},off:function(){var t=this;setTimeout(function(){t.$emit("input",!1),3==t.step&&2==t.loading&&t.setStep(1)},200)},setStep:function(t){var e=this;setTimeout(function(){e.step=t},200)},preventDefault:function(t){return t.preventDefault(),!1},handleClick:function(t){1!==this.loading&&t.target!==this.$refs.fileinput&&(t.preventDefault(),document.activeElement!==this.$refs&&this.$refs.fileinput.click())},handleChange:function(t){if(t.preventDefault(),1!==this.loading){var e=t.target.files||t.dataTransfer.files;this.reset(),this.checkFile(e[0])&&this.setSourceImg(e[0])}},checkFile:function(t){var e=this,a=e.lang,s=e.maxSize;return-1===t.type.indexOf("image")?(e.hasError=!0,e.errorMsg=a.error.onlyImg,!1):!(t.size/1024>s)||(e.hasError=!0,e.errorMsg=a.error.outOfSize+s+"kb",!1)},reset:function(){var t=this;t.loading=0,t.hasError=!1,t.errorMsg="",t.progress=0},setSourceImg:function(t){var e=this,a=new FileReader;a.onload=function(t){e.sourceImgUrl=a.result,e.startCrop()},a.readAsDataURL(t)},startCrop:function(){var t=this,e=t.width,a=t.height,s=t.ratio,i=t.scale,o=t.sourceImgUrl,n=t.sourceImgMasking,r=t.lang,l=n,c=new Image;c.src=o,c.onload=function(){var o=c.naturalWidth,n=c.naturalHeight,u=o/n,p=l.width,v=l.height,d=0,h=0;if(o<e||n<a)return t.hasError=!0,t.errorMsg=r.error.lowestPx+e+"*"+a,!1;s>u&&(v=p/u,h=(l.height-v)/2),s<u&&(p=v*u,d=(l.width-p)/2),i.range=0,i.x=d,i.y=h,i.width=p,i.height=v,i.minWidth=p,i.minHeight=v,i.maxWidth=o*l.scale,i.maxHeight=n*l.scale,i.naturalWidth=o,i.naturalHeight=n,t.sourceImg=c,t.createImg(),t.setStep(2)}},imgStartMove:function(t){if(t.preventDefault(),this.isSupportTouch&&!t.targetTouches)return!1;var e=t.targetTouches?t.targetTouches[0]:t,a=this.sourceImgMouseDown,s=this.scale,i=a;i.mX=e.screenX,i.mY=e.screenY,i.x=s.x,i.y=s.y,i.on=!0},imgMove:function(t){if(t.preventDefault(),this.isSupportTouch&&!t.targetTouches)return!1;var e=t.targetTouches?t.targetTouches[0]:t,a=this.sourceImgMouseDown,s=a.on,i=a.mX,o=a.mY,n=a.x,r=a.y,l=this.scale,c=this.sourceImgMasking,u=c,p=e.screenX,v=e.screenY,d=p-i,h=v-o,f=n+d,g=r+h;s&&(f>0&&(f=0),g>0&&(g=0),f<u.width-l.width&&(f=u.width-l.width),g<u.height-l.height&&(g=u.height-l.height),l.x=f,l.y=g)},startZoomAdd:function(t){function e(){if(s.zoomAddOn){var t=s.range>=100?100:++s.range;a.zoomImg(t),setTimeout(function(){e()},60)}}var a=this,s=a.scale;s.zoomAddOn=!0,e()},endZoomAdd:function(t){this.scale.zoomAddOn=!1},startZoomSub:function(t){function e(){if(s.zoomSubOn){var t=s.range<=0?0:--s.range;a.zoomImg(t),setTimeout(function(){e()},60)}}var a=this,s=a.scale;s.zoomSubOn=!0,e()},endZoomSub:function(t){this.scale.zoomSubOn=!1},zoomChange:function(t){this.zoomImg(t.target.value)},zoomImg:function(t){var e=this,a=this.sourceImgMasking,s=(this.sourceImgMouseDown,this.scale),i=s.maxWidth,o=s.maxHeight,n=s.minWidth,r=s.minHeight,l=s.width,c=s.height,u=s.x,p=s.y,v=(s.range,a),d=v.width,h=v.height,f=n+(i-n)*t/100,g=r+(o-r)*t/100,m=d/2-f/l*(d/2-u),_=h/2-g/c*(h/2-p);m>0&&(m=0),_>0&&(_=0),m<d-f&&(m=d-f),_<h-g&&(_=h-g),s.x=m,s.y=_,s.width=f,s.height=g,s.range=t,setTimeout(function(){s.range==t&&e.createImg()},300)},createImg:function(t){var e=this,a=e.mime,s=e.sourceImg,i=e.scale,o=i.x,n=i.y,r=i.width,l=i.height,c=e.sourceImgMasking.scale,u=e.$refs.canvas,p=u.getContext("2d");t&&(e.sourceImgMouseDown.on=!1),p.clearRect(0,0,e.width,e.height),p.drawImage(s,o/c,n/c,r/c,l/c),e.createImgUrl=u.toDataURL(a)},upload:function(){var t=this,e=this.lang,a=this.imgFormat,s=this.mime,o=this.url,r=this.params,c=this.headers,u=this.field,p=this.ki,v=this.createImgUrl,h=new FormData;h.append(u,d(v,s),u+"."+a),"object"==(void 0===r?"undefined":l()(r))&&r&&n()(r).forEach(function(t){h.append(t,r[t])});var f=function(e){e.lengthComputable&&(t.progress=100*Math.round(e.loaded)/e.total)};t.reset(),t.loading=1,t.setStep(3),t.$emit("crop-success",v,u,p),new i.a(function(t,e){var a=new XMLHttpRequest;a.open("POST",o,!0),a.onreadystatechange=function(){4===this.readyState&&(200===this.status||201===this.status?t(JSON.parse(this.responseText)):e(this.status))},a.upload.addEventListener("progress",f,!1),"object"==(void 0===c?"undefined":l()(c))&&c&&n()(c).forEach(function(t){a.setRequestHeader(t,c[t])}),a.send(h)}).then(function(e){t.value&&(t.loading=2,t.$emit("crop-upload-success",e,u,p))},function(a){t.value&&(t.loading=3,t.hasError=!0,t.errorMsg=e.fail,t.$emit("crop-upload-fail",a,u,p))})}}}},57:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),a(111),a(109),a(110),window.Quill||(window.Quill=a(52)),e.default={name:"quill-editor",data:function(){return{_content:"",defaultModules:{toolbar:[["bold","italic","underline","strike"],["blockquote","code-block"],[{header:1},{header:2}],[{list:"ordered"},{list:"bullet"}],[{script:"sub"},{script:"super"}],[{indent:"-1"},{indent:"+1"}],[{direction:"rtl"}],[{size:["small",!1,"large","huge"]}],[{header:[1,2,3,4,5,6,!1]}],[{color:[]},{background:[]}],[{font:[]}],[{align:[]}],["clean"],["link","image","video"]]}}},props:{content:String,value:String,disabled:Boolean,options:{type:Object,required:!1,default:function(){return{}}}},mounted:function(){this.initialize()},beforeDestroy:function(){this.quill=null},methods:{initialize:function(){if(this.$el){var t=this;t.options.theme=t.options.theme||"snow",t.options.boundary=t.options.boundary||document.body,t.options.modules=t.options.modules||t.defaultModules,t.options.modules.toolbar=void 0!==t.options.modules.toolbar?t.options.modules.toolbar:t.defaultModules.toolbar,t.options.placeholder=t.options.placeholder||"Insert text here ...",t.options.readOnly=void 0!==t.options.readOnly&&t.options.readOnly,t.quill=new Quill(t.$refs.editor,t.options),(t.value||t.content)&&t.quill.pasteHTML(t.value||t.content),t.quill.on("selection-change",function(e){e?t.$emit("focus",t.quill):t.$emit("blur",t.quill)}),t.quill.on("text-change",function(e,a,s){var i=t.$refs.editor.children[0].innerHTML,o=t.quill.getText();"<p><br></p>"===i&&(i=""),t._content=i,t.$emit("input",t._content),t.$emit("change",{editor:t.quill,html:i,text:o})}),this.disabled&&this.quill.enable(!1),t.$emit("ready",t.quill)}}},watch:{content:function(t,e){this.quill&&(t&&t!==this._content?(this._content=t,this.quill.pasteHTML(t)):t||this.quill.setText(""))},value:function(t,e){this.quill&&(t&&t!==this._content?(this._content=t,this.quill.pasteHTML(t)):t||this.quill.setText(""))},disabled:function(t,e){this.quill&&this.quill.enable(!t)}}}},58:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=a(121),i=a.n(s);e.default={name:"app",data:function(){return{canCrop:!1,uploadUrl:"http://localhost:51706/home/ajax/uploadHandler.aspx?path=info",content:""}},components:{editor:i.a}}},59:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=a(118),i=a.n(s);e.default={props:{value:{type:Boolean},width:{type:Number,default:200},height:{type:Number,default:200},uploadUrl:{type:String},fileName:{type:String}},data:function(){return{show:!1}},mounted:function(){this.show=this.value},components:{VueCrop:i.a},methods:{uploadSuccess:function(t,e){this.$emit("uploadSuccess",t)}},watch:{value:function(t){this.show=t},show:function(t){this.show||this.$emit("input",!1)}}}},60:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=a(127),i=(a.n(s),a(120)),o=a.n(i);e.default={props:{value:{type:String},uploadUrl:{type:String},fileName:{type:String},maxSize:{type:Number,default:400},canCrop:{type:Boolean,default:!1},width:{type:Number,default:200},height:{type:Number,default:200}},data:function(){return{content:"",editorOption:{modules:{toolbar:"#toolbar"}},showCrop:!1}},methods:{onChange:function(){this.$emit("input",this.content)},onFileChange:function(t){var e=t.target;if(0!=e.files.length){if(e.files[0].size>1048576*this.maxSize)return void alert("图片过大");if(!this.uploadUrl)return void console.log("no editor uploadUrl");var a=this,s=new FormData;s.append(this.fileName,e.files[0],name),this.editor.focus();var i=new XMLHttpRequest;i.open("post",this.uploadUrl),i.responseType="json",i.send(s),i.onload=function(){200==i.status&&a.editor.insertEmbed(a.editor.getSelection().index,"image",i.response.url)}}},onUploadSuccess:function(t){this.editor.focus(),this.editor.insertEmbed(this.editor.getSelection().index,"image",t.url)},imgClick:function(){if(this.canCrop)this.showCrop=!0;else{var t=document.createElement("input");t.type="file",t.name=this.fileName,t.accept="image/jpeg,image/png,image/jpg,image/gif",t.onchange=this.onFileChange,t.click()}}},computed:{editor:function(){return this.$refs.myTextEditor.quill}},components:{quillEditor:s.quillEditor,CropUpload:o.a},mounted:function(){this.content=this.value},watch:{value:function(t,e){this.editor&&t!==this.content&&(this.content=t)}}}},61:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=a(55),i=a(54),o=a.n(i);s.a.config.productionTip=!1,new s.a({el:"#app",template:"<App/>",components:{App:o.a}})}},[61]);
//# sourceMappingURL=app.9929ce3753fe6a7df8a1.js.map